service.factory("alertService",["$rootScope","$timeout",function(c,r){return c.alerts=[],{newAlert:function(e,i){var t=e||"警告";!e&&i&&(t="success"==i?"成功":"接口异常"),c.alerts=[];var n=i||"warning",o="success"==n?3e3:1e4,s={type:n,msg:t,isAble:!0};c.alerts.push(s),"danger"!=i&&r(function(){s.isAble=!1,c.alerts.splice(s,1)},o)},closeAlert:function(e){c.alerts.splice(e,1)},closeAll:function(){c.alerts=[]}}}]),service.factory("baseService",["serviceIp",function(e){var i={};return i.serviceIp=e,i}]),service.service("httpService",["$rootScope","$q","$http","Upload","LoadingService","$timeout","SweetAlert",function(e,o,s,n,c,r,a){this.webroot="/web-logistics/",this.handleParams=function(e){return e||{}},this.c_post=function(e,i){var t=r(function(){c.hide(),a.swal("网络异常,请稍后再试...","","warning")},5e3),n=o.defer();return e=this.webroot+e,i=this.handleParams(i),s.post(e,i).then(function(e){e.status=!0,n.resolve(e.data)},function(e){c.hide(),e.status=!1,n.reject(e)}).finally(function(){c.hide(),r.cancel(t)}),n.promise},this.c_get=function(e,i){var t=r(function(){c.hide(),a.swal("网络异常,请稍后再试...","","warning")},5e3);c.show();var n=o.defer();return e=this.webroot+e,i=this.handleParams(i),s.get(e,{params:i}).then(function(e){e.status=!0,n.resolve(e.data)},function(e){c.hide(),e.status=!1,n.reject(e)}).finally(function(){c.hide(),r.cancel(t)}),n.promise},this.file_upload=function(e,i){var t=o.defer();return i=this.webroot+i,n.upload({url:i,file:e}).then(function(e){e.status=!0,t.resolve(e)},function(e){e.status=!1,t.reject(e)}),t.promise},this.getAll=function(e,i){return this.c_get(i,e)},this.addRow=function(e,i){return this.c_post(i,e)},this.delRows=function(e,i){return this.c_get(i,e)},this.delRow=function(e,i){return this.c_post(i,e)},this.getOneRow=function(e,i){return this.c_post(i,e)},this.updateRow=function(e,i){return this.c_post(i,e)},this.exportExcel=function(e,i){i?window.open(this.webroot+e+"?adminid="+i):window.open(this.webroot+e)},this.importExcel=function(e,i){return this.file_upload(e,i)},this.addThird=function(e,i){return this.c_post(i,e)},this.importExcel=function(e,i){return this.c_post(i,e)},this.codeUnique=function(e,i){return this.c_post(i,e)},this.exportExcel1=function(e,i){window.open(this.webroot+e+"?entpid="+i)},this.exportExcelUser=function(e,i){window.open(this.webroot+e+"?mark="+i)}}]),angular.element(window).bind("load",function(e,i){angular.element(document.body).append('<div id="fakeloader" class="fakeloader load_visible" ><div class="load_fl load_spinner2"><div class="load_spinner-container load_container1"><div class="load_circle1"></div><div class="load_circle2"></div><div class="load_circle3"></div><div class="load_circle4"></div></div><div class="load_spinner-container load_container2"><div class="load_circle1"></div><div class="load_circle2"></div><div class="load_circle3"></div><div class="load_circle4"></div></div><div class="load_spinner-container load_container3"><div class="load_circle1"></div><div class="load_circle2"></div><div class="load_circle3"></div><div class="load_circle4"></div></div></div></div>')}),service.factory("LoadingService",["$window",function(t){return{show:function(){this.loadcss(),angular.element(document.querySelector("div#fakeloader")).removeClass("load_visible")},hide:function(){angular.element(document.querySelector("div#fakeloader")).addClass("load_visible")},loadcss:function(){var e=t.innerWidth,i=t.innerHeight;angular.element(document.querySelector("div.load_fl")).css({position:"absolute",left:e/2-10+"px",top:i/2-10+"px"})}}}]);