service.factory("alertService",["$rootScope","$timeout",function(r,a){return r.alerts=[],{newAlert:function(e,t){var i=e||"警告";!e&&t&&(i="success"==t?"成功":"接口异常"),r.alerts=[];var n=t||"warning",s="success"==n?3e3:1e4,o={type:n,msg:i,isAble:!0};r.alerts.push(o),"danger"!=t&&a(function(){o.isAble=!1,r.alerts.splice(o,1)},s)},closeAlert:function(e){r.alerts.splice(e,1)},closeAll:function(){r.alerts=[]}}}]),service.factory("baseService",["serviceIp",function(e){var t={};return t.serviceIp=e,t}]),service.service("httpService",["$rootScope","$q","$http","Upload","LoadingService","$timeout","SweetAlert",function(e,s,o,n,r,a,c){this.webroot="/web-logistics/",this.handleParams=function(e){return e||{}},this.c_post=function(e,t){var i=a(function(){r.hide(),c.swal("网络异常,请稍后再试...","","warning")},5e3),n=s.defer();return e=this.webroot+e,t=this.handleParams(t),o.post(e,t).then(function(e){e.status=!0,n.resolve(e.data)},function(e){r.hide(),e.status=!1,n.reject(e)}).finally(function(){r.hide(),a.cancel(i)}),n.promise},this.c_get=function(e,t){var i=a(function(){r.hide(),c.swal("网络异常,请稍后再试...","","warning")},5e3);r.show();var n=s.defer();return e=this.webroot+e,t=this.handleParams(t),o.get(e,{params:t}).then(function(e){e.status=!0,n.resolve(e.data)},function(e){r.hide(),e.status=!1,n.reject(e)}).finally(function(){r.hide(),a.cancel(i)}),n.promise},this.c_post_json=function(e,t){var i=a(function(){r.hide(),c.swal("网络异常,请稍后再试...","","warning")},5e3);r.show();var n=s.defer();return o({method:"POST",data:{params:JSON.stringify(t)},url:this.webroot+e}).then(function(e){e.status=!0,n.resolve(e.data)},function(e){r.hide(),e.status=!1,n.reject(e)}).finally(function(){r.hide(),a.cancel(i)}),n.promise},this.c_post=function(e,t){var i=a(function(){r.hide(),c.swal("网络异常,请稍后再试...","","warning")},5e3);r.show();var n=s.defer();return e=this.webroot+e,t=this.handleParams(t),o.post(e,t,i).then(function(e){e.status=!0,n.resolve(e.data)},function(e){r.hide(),e.status=!1,n.reject(e)}).finally(function(){r.hide(),a.cancel(i)}),n.promise},this.c_get=function(e,t){var i=a(function(){r.hide(),c.swal("网络异常,请稍后再试...","","warning")},5e3);r.show();var n=s.defer();return e=this.webroot+e,t=this.handleParams(t),o.get(e,{params:t},{timeout:i}).then(function(e){e.status=!0,n.resolve(e.data)},function(e){r.hide(),e.status=!1,n.reject(e)}).finally(function(){r.hide(),a.cancel(i)}),n.promise},this.file_upload=function(e,t){var i=s.defer();return t=this.webroot+t,n.upload({url:t,file:e}).then(function(e){e.status=!0,i.resolve(e)},function(e){e.status=!1,i.reject(e)}),i.promise},this.postJson=function(e,t){return this.c_post_json(t,e)},this.getAll=function(e,t){return this.c_get(t,e)},this.addRow=function(e,t){return this.c_post(t,e)},this.delRows=function(e,t){return this.c_get(t,e)},this.delRow=function(e,t){return this.c_post(t,e)},this.getOneRow=function(e,t){return this.c_post(t,e)},this.updateRow=function(e,t){return this.c_post(t,e)},this.exportExcel=function(e,t){t?window.open(this.webroot+e+"?adminid="+t):window.open(this.webroot+e)},this.importExcel=function(e,t){return this.file_upload(e,t)},this.addThird=function(e,t){return this.c_post(t,e)},this.importExcel=function(e,t){return this.c_post(t,e)},this.codeUnique=function(e,t){return this.c_post(t,e)},this.exportExcel1=function(e,t){window.open(this.webroot+e+"?entpid="+t)},this.exportExcelUser=function(e,t){window.open(this.webroot+e+"?mark="+t)}}]),angular.element(window).bind("load",function(e,t){angular.element(document.body).append('<div id="fakeloader" class="fakeloader load_visible" ><div class="load_fl load_spinner2"><div class="load_spinner-container load_container1"><div class="load_circle1"></div><div class="load_circle2"></div><div class="load_circle3"></div><div class="load_circle4"></div></div><div class="load_spinner-container load_container2"><div class="load_circle1"></div><div class="load_circle2"></div><div class="load_circle3"></div><div class="load_circle4"></div></div><div class="load_spinner-container load_container3"><div class="load_circle1"></div><div class="load_circle2"></div><div class="load_circle3"></div><div class="load_circle4"></div></div></div></div>')}),service.factory("LoadingService",["$window",function(i){return{show:function(){this.loadcss(),angular.element(document.querySelector("div#fakeloader")).removeClass("load_visible")},hide:function(){angular.element(document.querySelector("div#fakeloader")).addClass("load_visible")},loadcss:function(){var e=i.innerWidth,t=i.innerHeight;angular.element(document.querySelector("div.load_fl")).css({position:"absolute",left:e/2-10+"px",top:t/2-10+"px"})}}}]);